package ar.edu.unlam.tallerweb1.persistencia;
import org.hibernate.Session;
import org.junit.Test;
import org.springframework.test.annotation.Rollback;
import org.springframework.transaction.annotation.Transactional;

import ar.edu.unlam.tallerweb1.SpringTest;
import ar.edu.unlam.tallerweb1.modelo.*;
import static org.assertj.core.api.Assertions.*;

public class EquipoTestUpdate extends SpringTest{
	
	@Test@Transactional@Rollback
	public void updetearEquipo() {
		
		Equipo nuevo = new Equipo();
		nuevo.setNombre("equipoGanador");
		nuevo.setCantJugadores(11);
		Session session = getSession();
		session.save(nuevo);
		
		nuevo.setNombre("equipoPerdedor");
		session.update(nuevo);
		
		Equipo buscado = session.get(Equipo.class,nuevo.getId());
		assertThat(buscado.getNombre()).isEqualTo("equipoPerdedor");
	}

	
}
